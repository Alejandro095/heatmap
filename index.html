<!DOCTYPE html>
<html lang="es">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Map</title>
    <link rel="stylesheet" href="./css/styles.css">
  </head>
  <body>
    <main role="main">
      <section class="container">
        
        <!-- Controls -->
        <div class="controls">
          <div>
            <select id="stateInput">
              <option value="" selected disabled hidden>Entidad</option>
            </select>
  
            <select id="penitentiariesInput">
              <option value="" selected disabled hidden>Centro penitenciario</option>
            </select>
  
            <select id="filterInput">
              <option value="all" selected>Estatus de certificaci√≥n</option>
              <option value="certificate">Certificado</option>
              <option value="denied">Denegado</option>
              <option value="in_progress">En proceso</option>
              <option value="uncertified">Sin certificar</option>
            </select>
  
          </div>
          
          <span class="controls-help">?</span>
        </div>
        
        <!-- Map -->
        <div class="map-container">
          <div id="map">
            
            <!-- Chart -->
            <div class="chart">  
              <div>
                <span class="chart-title">Nacional</span>
                <canvas id="doughnut-chart"></canvas>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Legends -->
        <div class="legends">
          <span><span class="color"></span>Certificado</span>
          <span><span class="color"></span>Denegado</span>
          <span><span class="color"></span>En proceso</span>
          <span><span class="color"></span>Sin certificar</span>
        </div>
      </section>


    </main>

    <!-- Simple Maps -->
    <script src="./js/mapdata.js"></script>
    <script src="./js/lib/countrymap.js"></script>
    <script src="./js/data.js"></script>
    <!-- ChartJS -->
    <script src="./js/lib/chart.js"></script>
    <!-- Scripts -->
    <script src="./js/script.js"></script>
    <!-- Run script -->
    <script>
      const container = document.querySelector("#map");

      const stateInput = document.querySelector("#stateInput");
      const penitentiariesInput = document.querySelector("#penitentiariesInput");
      const filterInput = document.querySelector("#filterInput");

      /*
      *  El argumento "data" pasado a la funcion createMap es una
      *  variable global inicializada en el archivo data.js.
      *  Aun asi se puede pasar directamento los valores sin necesidad
      *  de crear una varible.
      */

      createMap(data, {
        // Map container
        container,

        // Inputs
        stateInput,
        penitentiariesInput,
        filterInput,
      });
    </script>
  </body>
</html>
